webpackJsonp([8],{D1tC:function(e,t){},EJkc:function(e,t){},JqaR:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var i=[].concat(["icon-custom-qiyebangonglou","icon-custom-fanhui1","icon-custom-xiugaimimaicon","icon-custom-gengduo","icon-custom-gerenxinxi","icon-custom-gengduo1","icon-custom-fanhui2","icon-custom-duoyuyan","icon-custom-fuzhi","icon-custom-gerenxinxi1","icon-custom-xinjian","icon-custom-loufang","icon-custom-gongchengliebiao","icon-custom-chuanglian","icon-custom-zhongwenyuyan","icon-custom-yewubaobiao","icon-custom-chuanghu","icon-custom-yangtai","icon-custom-xinjian1","icon-custom-mobanguanli","icon-custom-xinjian2","icon-custom-chuangjianv","icon-custom-fanhui","icon-custom-yangtai1","icon-custom-xiugaimima","icon-custom-gengduo2","icon-custom-gerenxinxi2","icon-custom-fuzhi1","icon-custom-gengduo3","icon-custom-building-automation","icon-custom-renshishenqing","icon-custom-left-template","icon-custom-gongchengjianshe","icon-custom-xiugaimima1"],["yd-icon-home","yd-icon-home-outline","yd-icon-shopcart","yd-icon-shopcart-outline","yd-icon-ucenter","yd-icon-ucenter-outline","yd-icon-star","yd-icon-star-outline","yd-icon-error","yd-icon-error-outline","yd-icon-warn","yd-icon-warn-outline","yd-icon-shield","yd-icon-shield-outline","yd-icon-like","yd-icon-like-outline","yd-icon-weibo","yd-icon-weixin","yd-icon-tencent-weibo","yd-icon-qq","yd-icon-phone1","yd-icon-phone2","yd-icon-phone3","yd-icon-share1","yd-icon-share2","yd-icon-share3","yd-icon-order","yd-icon-prev","yd-icon-play","yd-icon-next","yd-icon-good","yd-icon-bad","yd-icon-feedback","yd-icon-compose","yd-icon-discount","yd-icon-verifycode","yd-icon-download","yd-icon-footmark","yd-icon-refresh","yd-icon-search","yd-icon-time","yd-icon-setting","yd-icon-delete","yd-icon-more","yd-icon-checkoff","yd-icon-video","yd-icon-clock","yd-icon-type","yd-icon-discover","yd-icon-qrscan","yd-icon-location","yd-icon-question"])},"N+xv":function(e,t){},Qrxi:function(e,t,a){"use strict";var i=a("3cXf"),o=a.n(i),n=a("JqaR"),l={name:"my-el-form",props:{formData:{type:Object}},computed:{},data:function(){return{formDatas:[],formEditDatas:[],stacks:[],locked:!1,tpl:{},iconItem:{iconDialogShow:!1,item:null,iconColor:"black"},icons:n.a}},methods:{edit:function(e,t){this.stacks.splice(0,this.stacks.length),this.stacks.splice(0,0,e,"list",t)},editObject:function(e,t){console.log(e,t),this.stacks.splice(0,this.stacks.length),this.stacks.splice(0,0,e,"formData")},remove:function(e,t){this.formDatas.ex[e].list.splice(t,1)},append:function(e,t){this.formDatas.ex[t].list.push(JSON.parse(o()(this.formDatas.ex[t].tpl)))},selectFormChange:function(e){e.value in e.op&&(e.curFormData={ex:e.op[e.value],id:"id_"+(new Date).getTime()})},changeIcon:function(e){this.iconItem.item=e,this.iconItem.iconDialogShow=!0},checkIcon:function(e){this.iconItem.item.value=e,this.iconItem.iconDialogShow=!1}},mounted:function(){window.rett=this},watch:{"formData.id":function(){this.locked=!0,this.formDatas=this.formData,this.formEditDatas=this.formData.ex,this.stacks=[],console.log("change formData.ID")},stacks:function(e){this.locked=!0;var t={};this.stacks.length?(t=this.formDatas.ex,this.stacks.forEach(function(e){return t=t[e]}),this.formEditDatas=t):(this.formEditDatas=this.formDatas.ex,this.tpl={});var a=this;setTimeout(function(e){for(var t in a.formEditDatas)"selectForm"===a.formEditDatas[t].type&&a.formEditDatas[t].value in a.formEditDatas[t].op&&(a.formEditDatas[t].curFormData.id="id_"+(new Date).getTime())})},formEditDatas:function(){this.locked?this.locked=!1:(3==this.stacks.length?this.formDatas.ex[this.stacks[0]][this.stacks[1]][this.stacks[2]]=this.formEditDatas:this.formDatas.ex=this.formEditDatas,this.formDatas.id="id_"+(new Date).getTime(),this.$emit("update:formData",this.formDatas),console.log("change formEditDatas"))}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"left",padding:"0.2em 0.8em"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.stacks.length,expression:"stacks.length"}],attrs:{type:"text"},on:{click:function(t){e.stacks.splice(0,e.stacks.length)}}},[e._v("返回")]),e._v(" "),a("el-form",{attrs:{"label-position":"top","label-width":"80px"}},e._l(e.formEditDatas,function(t,i){return a("el-form-item",{attrs:{label:t.label}},["input"==t.type?a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),e._v(" "),"color"==t.type?a("el-color-picker",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),e._v(" "),"switch"==t.type?a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),e._v(" "),"number"==t.type?a("el-input-number",{staticClass:"myNum",attrs:{step:1},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),e._v(" "),"array"==t.type?a("ul",[e._l(t.list,function(o,n){return a("li",{staticStyle:{display:"inline-block",width:"100%"}},[e._v("\n          "+e._s(o[t.labelF].value||o[t.labelF].label)+"\n          "),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"text"}},[a("i",{staticClass:"el-icon-edit",on:{click:function(t){e.edit(i,n)}}})]),e._v(" "),a("el-button",{attrs:{type:"text"}},[a("i",{staticClass:"el-icon-delete",on:{click:function(t){e.remove(i,n)}}})])],1)])}),e._v(" "),a("li",[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.append(t,i)}}},[a("i",{staticClass:"el-icon-plus"}),e._v("新增列表项")])],1)],2):e._e(),e._v(" "),"object"===t.type?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.editObject(i,t)}}},[e._v(e._s(t.placeholder||"编辑"))]):e._e(),e._v(" "),"select"===t.type?a("el-select",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(t.op,function(e,t){return a("el-option",{attrs:{label:e.label,value:e.value}})})):e._e(),e._v(" "),"selectForm"==t.type?a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){e.selectFormChange(t)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(t.op,function(e,t){return a("el-option",{key:t,attrs:{label:t,value:t}})})):e._e(),e._v(" "),"icon"===t.type?a("el-button",{on:{click:function(a){e.changeIcon(t)}}},[t.value?a("div",[a("i",{class:t.value,staticStyle:{"font-size":"1.2em","margin-right":"0.5em"}}),e._v(e._s(t.value))]):a("div",[e._v("请选择图标")])]):e._e(),e._v(" "),"selectForm"===t.type?a("my-el-form",{attrs:{"form-data":t.curFormData}}):e._e()],1)})),e._v(" "),a("el-dialog",{attrs:{title:"选择一个图标",modal:!1,visible:e.iconItem.iconDialogShow,width:"800px"},on:{"update:visible":function(t){e.$set(e.iconItem,"iconDialogShow",t)}}},[a("el-form",[a("el-form-item",{attrs:{label:"图标颜色"}},[a("el-color-picker",{model:{value:e.iconItem.iconColor,callback:function(t){e.$set(e.iconItem,"iconColor",t)},expression:"iconItem.iconColor"}})],1)],1),e._v(" "),a("div",e._l(e.icons,function(t){return a("div",{staticClass:"iconDiv"},[a("i",{class:t,style:"color:"+e.iconItem.iconColor,on:{click:function(a){e.checkIcon(t)}}})])}))],1)],1)},staticRenderFns:[]};var s=a("vSla")(l,r,!1,function(e){a("k9au")},null,null);t.a=s.exports},SXqC:function(e,t){},TLUO:function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"d",function(){return p}),a.d(t,"b",function(){return m}),a.d(t,"c",function(){return h});var i=a("a3Yh"),o=a.n(i),n=a("3cXf"),l=a.n(n),r=a("aA9S"),s=a.n(r),c=a("hRKE"),u=a.n(c),d=function e(t){var a={},i=function(){var i=t[o];switch(i.type){case"input":case"color":case"switch":case"icon":case"number":case"select":a[i.name]=i.value;break;case"array":a[i.name]=[],i.list.forEach(function(t){for(var o={},n=0;n<t.length;n++)t[n].name||1!==t.length?s()(o,e([t[n]])):o=e([t[n]]);a[i.name].push(o)});break;case"selectForm":if(i.value){if(!i.name)return{v:s()(e(i.curFormData.ex),{type:i.value})};a[i.name]=s()(e(i.curFormData.ex),{type:i.value})}break;case"object":a[i.name]=e(i.formData)}};for(var o in t){var n=i();if("object"===(void 0===n?"undefined":u()(n)))return n.v}return a},p=function e(t,a,i){var n=JSON.parse(l()(a)),r=function(r){var s=n[r];switch(s.type){case"input":case"color":case"switch":case"icon":case"number":s.value=t[s.name];break;case"array":s.list=[],t[s.name].forEach(function(t){for(var a=JSON.parse(l()(s.tpl)),i=0;i<a.length;i++)if("selectForm"===a[i].type)a=e(t,[a[i]],!0);else if("string"==typeof t&&"select"===a[i].type){var n=e(o()({},a[i].name,t),[a[i]]);a[i]=n[0]}else a[i]=e(t,[a[i]])[0];s.list.push(a)});break;case"select":console.log(t,n,s);var c=t[s.name];s.op.some(function(e){return e.value===c&&(s.value=e.value,!0)});break;case"selectForm":i&&(s.name||(s.value=t.type,t.type in s.op&&(s.curFormData.id="",s.curFormData.ex=s.op[t.type],s.curFormData.ex=e(t,s.curFormData.ex)))),console.log(t,a,s);break;case"object":var u=e(t[s.name],s.formData);s.formData=u}};for(var s in n)r(s);return n},m=function(){return"id_"+(new Date).getTime()},h=function(e){var t="",a=1;e=e||"";for(var i=0;i<e.length;i++)if(" "===e[i]){for(a=1,i++;i<e.length&&" "===e[i];i++)a++;i--,a-1||(t+=" ")}else t+=e[i];return t}},XiuH:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"c",function(){return o}),a.d(t,"e",function(){return n}),a.d(t,"a",function(){return l}),a.d(t,"d",function(){return r});var i="/output/index.html",o="/voutput",n="/voutput/user.html",l="",r=""},dRIH:function(e,t){},eIzx:function(e,t,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,modal:e.isModal,fullscreen:e.isFullscreen,width:"600px"},on:{"update:visible":function(t){e.show=t}}},[e._t("default"),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.noBtn,expression:"!noBtn"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$emit("comfirm")}}},[e._v(e._s(e.btnName))]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.show=!1}}},[e._v("关闭")])],1)],2)},staticRenderFns:[]};var o=a("vSla")({name:"myElDailogForm",props:["btnName","title","modal","fullscreen","noBtn"],data:function(){return{show:!1}},computed:{isModal:function(){return!!this.modal},isFullscreen:function(){return!!this.fullscreen}}},i,!1,function(e){a("D1tC")},"data-v-6c0e7899",null);t.a=o.exports},fGOC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("IvJb"),o=a("4YfN"),n=a.n(o),l=a("aA9S"),r=a.n(l),s=a("3cXf"),c=a.n(s),u=a("TLUO"),d=a("Qrxi"),p=a("eIzx"),m=function(){return"id_"+(new Date).getTime()};console.log("ibas");var h={default:function(e){var t={type:e.type,name:e.name,verify:e.verify,placeholder:e.placeholder||"",value:e.value||"",label:e.label||""};return"select"===e.type||"radio"===e.type?(console.log("options",e),t.options=e.options):"checkbox"===e.type&&(console.log("options,split",e),t.options=e.options,t.split=e.split),t},tree:function(e){return console.log("tree",e),e}},f={type:"select",label:"验证方法",name:"verify",op:[{value:"require",label:"必填"},{value:"phone",label:"电话"},{value:"email",label:"邮箱"},{value:"url",label:"链接"},{value:"number",label:"数字"},{value:"date",label:"日期"},{value:"identity",label:"身份证"},{value:"other",label:"其他<自行修改这里>"}],value:""},v={hidden:{formData:[{type:"input",name:"name",label:"提交服务器字段名称",value:m()},{type:"input",name:"value",label:"默认值",value:""}],build:function(e){return{id:m(),type:"hidden",name:e.name,value:e.value||"",atr:"ele",label:"隐藏字段 -> "+e.name}}},input:{formData:[{type:"input",name:"name",label:"提交服务器字段名称",value:m()},{type:"input",name:"label",label:"标签",value:"标签"},{type:"input",name:"placeholder",label:"placeholder",value:""},{type:"input",name:"value",label:"默认值",value:""},JSON.parse(c()(f))],build:function(e){return{id:m(),type:"input",name:e.name,label:e.label||"文字输入",value:e.value||"",placeholder:e.placeholder||"",verify:e.verify||"",atr:"ele"}}},date:{formData:[{type:"input",name:"name",label:"提交服务器字段名称",value:m()},{type:"input",name:"label",label:"标签",value:"标签"},{type:"input",name:"placeholder",label:"placeholder",value:""},{type:"input",name:"value",label:"默认值",value:"2018-01-01"},JSON.parse(c()(f))],build:function(e){return{id:m(),type:"date",name:e.name,label:e.label||"文字输入",value:e.value||"",placeholder:e.placeholder||"",verify:e.verify||"",atr:"ele"}}},textarea:{formData:[{type:"input",name:"name",label:"提交服务器字段名称",value:m()},{type:"input",name:"label",label:"标签",value:"标签"},{type:"input",name:"placeholder",label:"placeholder",value:""},{type:"input",name:"value",label:"默认值",value:""},JSON.parse(c()(f))],build:function(e){return{id:m(),type:"textarea",name:e.name,label:e.label||"文字输入",value:e.value||"",placeholder:e.placeholder||"",verify:e.verify||"",atr:"ele"}}},password:{formData:[{type:"input",name:"name",label:"提交服务器字段名称",value:m()},{type:"input",name:"label",label:"标签",value:"标签"},{type:"input",name:"placeholder",label:"placeholder",value:""},{type:"input",name:"value",label:"默认值",value:""},JSON.parse(c()(f))],build:function(e){return{id:m(),type:"password",name:e.name,label:e.label||"文字输入",value:e.value||"",placeholder:e.placeholder||"",verify:e.verify||"require",atr:"ele"}}},switch:{formData:[{type:"input",name:"name",label:"提交服务器字段名称",value:m()},{type:"input",name:"label",label:"标签",value:"标签"},{type:"input",name:"word",label:"开关的描述（例如 开|关 ，用 | 分割两种状态）",value:""},{type:"switch",name:"value",label:"默认值",value:!1},JSON.parse(c()(f))],build:function(e){return{id:m(),type:"switch",name:e.name,label:e.label||"文字输入",value:e.value||!1,placeholder:e.placeholder||"",verify:e.verify||"require",atr:"ele"}}},select:{formData:[{type:"input",name:"name",label:"提交服务器字段名称",value:m()},{type:"input",name:"label",label:"标签",value:"标签"},{type:"input",name:"value",label:"默认值",value:""},{type:"array",label:"选项",name:"options",labelF:"0",tpl:[{type:"input",name:"label",label:"显示的内容",value:""},{type:"input",name:"value",label:"提交服务器的内容",value:""}],list:[]},JSON.parse(c()(f))],build:function(e){return{id:m(),type:"select",name:e.name,label:e.label||"文字输入",value:e.value||"",placeholder:e.placeholder||"",verify:e.verify||"",options:e.options,atr:"ele"}}},radio:{formData:[{type:"input",name:"name",label:"提交服务器字段名称",value:m()},{type:"input",name:"label",label:"标签",value:"标签"},{type:"input",name:"value",label:"默认值",value:""},{type:"array",label:"选项",name:"options",labelF:"0",tpl:[{type:"input",name:"label",label:"显示的内容",value:""},{type:"input",name:"value",label:"提交服务器的内容",value:""}],list:[]},JSON.parse(c()(f))],build:function(e){return{id:m(),type:"radio",name:e.name,label:e.label||"文字输入",value:e.value||"",placeholder:e.placeholder||"",verify:e.verify||"",options:e.options,atr:"ele"}}},checkbox:{formData:[{type:"input",name:"name",label:"提交服务器字段名称",value:m()},{type:"input",name:"label",label:"标签",value:"标签"},{type:"input",name:"value",label:"默认值",value:""},{type:"input",name:"split",label:"分隔符（一个字符，默认为 | ）",value:"|"},{type:"array",label:"选项",name:"options",labelF:"0",tpl:[{type:"input",name:"label",label:"显示的内容",value:""},{type:"input",name:"value",label:"提交服务器的内容",value:""},{type:"switch",name:"checked",label:"是否选中",value:""}],list:[]},JSON.parse(c()(f))],build:function(e){return{id:m(),type:"checkbox",name:e.name,label:e.label||"文字输入",value:e.value||"",placeholder:e.placeholder||"",verify:e.verify||"",options:e.options,split:e.split,atr:"ele"}}},tree:{formData:[{type:"input",name:"name",label:"提交服务器字段名称",value:m()},{type:"input",name:"label",label:"标签",value:"标签"},{type:"input",name:"placeholder",label:"placeholder",value:""},{type:"input",name:"value",label:"默认值",value:""},{type:"input",name:"divStyle",label:'树的div样式(例如 "margin:0;padding:0")',value:""},{type:"input",name:"promiseName",label:"sailPromise 配置的名称(创建后会提供)",value:""},{type:"input",name:"filterSelect",label:"过滤方法，这里会有传入 nodes，为被选中的节点数组",value:""},{type:"input",name:"layerSetting",label:"弹窗的配置，这里推荐生成后自行修改",value:""},{type:"input",name:"treeSetting",label:"n-tree配置，同样推荐生成后修改",value:""},JSON.parse(c()(f))],build:function(e){var t=r()({id:m(),type:"tree",name:e.name,label:e.label||"树",value:e.value||"",placeholder:e.placeholder||"",verify:e.verify||"",atr:"ele"},e);return console.log(t),t}},build:function(e){return this[e.type].build(e)}},b={components:{myElForm:d.a,myElDialogForm:p.a},data:function(){return{addSelectionsFormData:{ex:[{type:"input",name:"label",label:"文字(选项中用于给用户选择时看到的部分)",value:m()},{type:"input",name:"value",label:"值(用于提交服务器或者内部交互使用的部分)",value:"val"}],id:"",change:!1},dialogVisible:!1,addItemDialogVisible:!1,form:{type:{label:"节点类型",value:"",options:[{label:"隐藏内容",value:"hidden"},{label:"输入框",value:"input"},{label:"文本框",value:"textarea"},{label:"日期",value:"date"},{label:"密码",value:"password"},{label:"选择",value:"select"},{label:"复选框",value:"checkbox"},{label:"开关",value:"switch"},{label:"树",value:"tree"}]},formData:{},tpl:{},change:!1},treeData:[{id:1,label:"根",atr:"root",children:[]}],editNode:{},outputJSON:{text:"",ugly:!1,inText:""},outputDialogVisible:!1,inputDialogVisible:!1}},methods:{append:function(e,t){this.form.type.value="",this.dialogVisible=!0,this.editNode={data:e,node:t}},appendListItem:function(e,t){var a=0;"tpl"===t.parent.data.children[a].atr||(a=1),t.parent.data.children[a].children.length?(this.editNode={data:e,node:t},this.addItemDialogVisible=!0,this.form.tpl={ex:JSON.parse(c()(t.parent.data.children[a].children)),id:m()}):this.$message({showClose:!0,message:"请先完善模板",type:"success"})},checkToInsert:function(){if("root"===this.editNode.data.atr)this.editNode.data.children.push(v.build(n()({type:this.form.type.value},Object(u.a)(this.form.formData.ex)))),this.dialogVisible=!1;else if("tpl"===this.editNode.data.atr){var e=v.build(n()({type:this.form.type.value},Object(u.a)(this.form.formData.ex)));this.editNode.data.children.push(e),this.dialogVisible=!1,this.syncArrayTpl(this.editNode.node.parent.data)}if("ele"===this.editNode.data.atr){var t=v.build(n()({type:this.form.type.value},Object(u.a)(this.form.formData.ex)));for(var a in t)this.editNode.data[a]=t[a];this.dialogVisible=!1,this.syncArrayTpl(this.editNode.node.parent.parent.data)}this.form.change=!1},checkToInsertItem:function(){this.form.change?(this.form.change=!1,this.editNode.data.label=this.form.tpl.ex[this.editNode.node.parent.parent.data.labelF].value,this.editNode.data=this.form.tpl.ex,this.addItemDialogVisible=!1):(this.addItemDialogVisible=!1,this.editNode.data.children.push({atr:"data",formData:this.form.tpl.ex,id:m(),label:this.form.tpl.ex[this.editNode.node.parent.data.labelF].value}))},remove:function(e,t){for(var a=0;a<t.parent.data.children.length;a++)if(t.parent.data.children[a].id===e.id){t.parent.data.children.splice(a,1);break}this.syncArrayTpl(t.parent.data)},edit:function(e,t){var a=this;this.editNode={data:e,node:t},this.form.change=!0,"data"===e.atr?(this.form.tpl={id:m(),ex:e.formData},this.addItemDialogVisible=!0):"ele"===e.atr?(this.form.type.value=e.type,setTimeout(function(t){a.form.formData={id:m(),ex:Object(u.d)(e,v[e.type].formData)}}),this.dialogVisible=!0):"op"===e.atr&&(this.addSelectionsFormData.change=!0,this.$refs.addOptionsDialog.show=!0,this.addSelectionsFormData.ex=Object(u.d)(e,this.addSelectionsFormData.ex),this.addSelectionsFormData.id=m())},syncArrayTpl:function(e){if(console.log(e),"array"===e.type){var t=0;"tpl"===e.children[t].atr||(t=1);var a=e.children[t].children;e.children[1-t].children.forEach(function(e){for(var t=JSON.parse(c()(a)),i=Object(u.a)(e.formData),o=0;o<t;o++)t[o].value=i[t[o].name]||t[o].value;e.formData=t})}},output:function(e,t){var a=[],i=[];e.children.forEach(function(e){"tree"===e.type&&(console.log(e),i.push('sailPromise\n    .getPromise("'+e.promiseName+'",{url : "",header : {},data : {}})\n    .dearFn = function(ret){\n        //ret 为 $.ajax 请求返回数据\n        //这里可以对原始数据进行处理，处理为符合 z-tree 格式的对象\n        return ret;\n    };')),e.type in h?a.push(h[e.type](e)):a.push(h.default(e))}),console.log(a),this.outputJSON.text=i.join("\r\n")+"\r\nvar eles = "+c()(a,null,"\t"),this.outputJSON.ugly=!1,this.outputDialogVisible=!0},ugly:function(){this.outputJSON.ugly?(this.outputJSON.text=c()(JSON.parse(this.outputJSON.text),null,"\t"),this.outputJSON.ugly=!1):(this.outputJSON.text=c()(JSON.parse(this.outputJSON.text)),this.outputJSON.ugly=!0)},editTree:function(e,t){"out"===t?(this.outputJSON.text=c()(e,null,"\t"),this.outputJSON.ugly=!1,this.outputDialogVisible=!0):this.inputDialogVisible=!0},rebuildTree:function(){try{var e=JSON.parse(this.outputJSON.inText);this.treeData=e instanceof Array?e:[e],this.inputDialogVisible=!1}catch(e){}},addSelection:function(){var e=Object(u.a)(this.addSelectionsFormData.ex);if(this.editNode.data.children.some(function(t){return t.value===e.value}))this.$message("值(用于提交服务器或者内部交互使用的部分) = "+e.value+"已经存在，不能重复");else{if(this.addSelectionsFormData.change){var t=this.editNode.data;this.editNode.node.parent.data.children.forEach(function(a){a.id===t.id&&(a.value=e.value,a.label=e.label)}),this.addSelectionsFormData.change=!1}else e.atr="op",e.id=m(),this.editNode.data.children.push(e);this.$refs.addOptionsDialog.show=!1}},showAddOptionDialog:function(e,t){var a=this;this.$refs.addOptionsDialog.show=!0,this.editNode={data:e,node:t},setTimeout(function(e){a.addSelectionsFormData.id=m()})}},mounted:function(){window.ret=this,this.addSelectionsFormData.id="id_"+(new Date).getTime()},watch:{"form.type.value":function(e){if(e in v){if("tpl"===this.editNode.data.atr&&"array"===e)return void this.$message({showClose:!0,message:"当前无法处理在数组中添加数组",type:"success"});this.form.formData={ex:v[e].formData,id:m()}}else this.form.formData={}}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-tree-container"},[a("div",{staticClass:"block"},[a("el-tree",{attrs:{data:e.treeData,"show-checkbox":"","node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,o=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(i.label))]),e._v(" "),a("span",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"root"===o.atr,expression:"data.atr === 'root'"}],attrs:{type:"text",size:"mini"},on:{click:function(){return e.output(o,i)}}},[e._v("\n          导出\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"root"===o.atr,expression:"data.atr === 'root'"}],attrs:{type:"text",size:"mini"},on:{click:function(){return e.editTree(o,"out")}}},[e._v("\n          导出树结构\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"root"===o.atr,expression:"data.atr === 'root'"}],attrs:{type:"text",size:"mini"},on:{click:function(){return e.editTree(o,"in")}}},[e._v("\n          导入树结构\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"root"===o.atr,expression:"data.atr === 'root'"}],attrs:{type:"text",size:"mini"},on:{click:function(t){e.treeData[0].children.splice(0,e.treeData[0].children.length)}}},[e._v("\n          清空\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"root"===o.atr||"tpl"===o.atr,expression:"data.atr === 'root' || data.atr === 'tpl'"}],attrs:{type:"text",size:"mini"},on:{click:function(){return e.append(o,i)}}},[e._v("\n          添加属性\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"options"===o.atr,expression:"data.atr === 'options'"}],attrs:{type:"text",size:"mini"},on:{click:function(){return e.showAddOptionDialog(o,i)}}},[e._v("\n          添加选项\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"def"===o.atr,expression:"data.atr === 'def'"}],attrs:{type:"text",size:"mini"},on:{click:function(){return e.appendListItem(o,i)}}},[e._v("\n          添加列表项\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"ele"===o.atr||"data"===o.atr||"op"===o.atr,expression:"data.atr === 'ele' || data.atr === 'data' || data.atr === 'op'"}],attrs:{type:"text",size:"mini"},on:{click:function(){return e.remove(o,i)}}},[e._v("\n          删除属性\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"ele"===o.atr||"data"===o.atr||"op"===o.atr,expression:"data.atr === 'ele' || data.atr === 'data' || data.atr === 'op'"}],attrs:{type:"text",size:"mini"},on:{click:function(){return e.edit(o,i)}}},[e._v("\n          编辑\n        ")])],1)])}}])}),e._v(" "),a("el-dialog",{attrs:{title:"添加节点",visible:e.dialogVisible,width:"600px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:e.form.type.label}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.type.value,callback:function(t){e.$set(e.form.type,"value",t)},expression:"form.type.value"}},e._l(e.form.type.options,function(e,t){return a("el-option",{attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("my-el-form",{attrs:{"label-position":"top","form-data":e.form.formData},on:{"update:formData":function(t){e.$set(e.form,"formData",t)}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.checkToInsert()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加列表项",visible:e.addItemDialogVisible,width:"600px"},on:{"update:visible":function(t){e.addItemDialogVisible=t}}},[a("my-el-form",{attrs:{"label-position":"top","form-data":e.form.tpl},on:{"update:formData":function(t){e.$set(e.form,"tpl",t)}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addItemDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.checkToInsertItem()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"导出内容",visible:e.outputDialogVisible,width:"600px"},on:{"update:visible":function(t){e.outputDialogVisible=t}}},[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:e.outputJSON.text,callback:function(t){e.$set(e.outputJSON,"text",t)},expression:"outputJSON.text"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.ugly()}}},[e._v("丑化/美化")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.outputDialogVisible=!1}}},[e._v("关闭")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"导入",visible:e.inputDialogVisible,width:"600px"},on:{"update:visible":function(t){e.inputDialogVisible=t}}},[a("span",{staticClass:"dialog-footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.rebuildTree()}}},[e._v("导入")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.inputDialogVisible=!1}}},[e._v("关闭")])],1),e._v(" "),a("el-input",{attrs:{slot:"footer",type:"textarea",autosize:"",placeholder:"请输入内容"},slot:"footer",model:{value:e.outputJSON.inText,callback:function(t){e.$set(e.outputJSON,"inText",t)},expression:"outputJSON.inText"}})],1),e._v(" "),a("my-el-dialog-form",{ref:"addOptionsDialog",attrs:{btnName:"确定",title:"添加选项"},on:{comfirm:e.addSelection}},[a("my-el-form",{attrs:{"label-position":"top","form-data":e.addSelectionsFormData},on:{"update:formData":function(t){e.addSelectionsFormData=t}}})],1)],1)])},staticRenderFns:[]};var g=a("vSla")(b,y,!1,function(e){a("SXqC"),a("EJkc"),a("N+xv")},null,null).exports,x=a("Axgm"),w=a.n(x),D=(a("dRIH"),a("vHYo"));Object(D.a)(i.default),i.default.use(w.a),new i.default({el:"#app",render:function(e){return e(g)}})},k9au:function(e,t){},mWYR:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var i={EN:{home:{icons:{checkWindow:"windows"},account:{loginVue:{login:"login",loginUserName:"uname",loginUserNamePlaceholder:"please input username",loginPassword:"pass",loginPasswordPlaceholder:"please input password",loginLoginBtnLabel:"login",loginRegisterBtnLabel:"register",loginSuccess:"login success",loginInfoComplete:"Please complete the login information!"},registerVue:{register:"register",registerPassword:"pass",registerUserName:"uname",registerUserNamePlaceholder:"please input username",registerPasswordPlaceholder:"please input password",registerLoginBtnLabel:"login",registerRegisterBtnLabel:"register"},userInfoVue:{personalInfoButton:"personal information",certifyListButton:"Certificate list",logoutButton:"Logout",popupshow:{goback:"goback",personalInfo:"personal information",changePersonalInfo:"Modify personal information",submit:"submit"},logoutSuccess:"Logout success"}},common:{homeVue:{menus:{mainPage:"main",list:"list",user:"user"}}}},window:{main:{title:"window",loginFirst:"please login first",checkwindow:"check window",repairs:"repairs",checkList:"check list",repairsList:"repairs list",addCheck:"add"},add:{handAdd:"handle add",copyFromOther:"copy from old project",copyFromTemplate:"copy from template",title:"Select add mode"},fields:{stepTwoTitle:"Add supervisor information",stepOneTitle:"Add window inspection",projectInfo:{pname:"building name",pnamePlaceholder:"building name",adress:"Building address",adressPlaceholder:"Building address",address:"address",addressPlaceholder:"address",addressOptions:{options1:{label:"building",value:"building"},options2:{label:"location",value:"location"}},area:"area",areaPlaceholder:"area",areaOptions:{options1:{label:"Hongkong",value:"Hongkong"},options2:{label:"Kowloon",value:"Kowloon"},options3:{label:"the New Territories",value:"the New Territories"}},district:"district",districtPlaceholder:"district",street:"street",streetPlaceholder:"street",streetno:"streetno",streetnoPlaceholder:"streetno",building:"Building/estate",buildingPlaceholder:"Building/estate",floor:"floor",floorPlaceholder:"floor",flat:"Unit/room",referenceno:"Reference NO.",referencenoPlaceholder:"Reference NO.",message_id:"Legal notice NO.",message_idPlaceholder:"Legal notice NO.",signature:"signature",signaturePlaceholder:"signature",lzxx:"Building a information",lzxxPlaceholder:"Building a information",certify:"certify",certifyPlaceholder:"Building a information",prenotice:"No advance mail received"},userInfo:{uid:"uid",uaddress:"address",ufaxNo:"fax",uphone:"phone",uemail:"email",ucertifyEnd:"certify endtime",ucertifyId:"certify no",uenglishName:"english name",ufullname:"full name"},jianli:{diyigeOptions:{ucorporationNo:"Corporation number",uid:"Hong Kong identity card number",ubusinessNo:"Business registration number"},ufullname:"Full Name",ufullnamePlaceholder:"Full name (surname first)",uenglishName:"English name",uenglishNamePlaceholder:"English name (surname first)",ucertifyId:"certificate number",ucertifyIdPlaceholder:"certificate number",ucertifyEnd:"Expiry date",ucertifyEndPlaceholder:"example:2018-01-31",uemail:"E-MAIL",uemailPlaceholder:"E-mail",uphone:"phone",uphonePlaceholder:"phone",ufaxNo:"fax NO.",ufaxNoPlaceholder:"fax NO.",uaddress:"residential address",uaddressPlaceholder:"residential address"},checkStepOne:{checkerName:"inspection personnel",checkerNamePlaceholder:"inspection personnel",checkDate:"Inspection date",checkDatePlaceholder:"Inspection date"}}},fields:{login:{username:"username",password:"password",captcha:"captcha"},register:{diyigeOptions:{ubusinessNo:"Business registration number",ucorporationNo:"Corporation number",uid:"Hong Kong identity card number"},username:"username",password:"password",nameIsOk:"Name is ok",nameUsed:"Name had been used.",agressStatement:"Agree Disclaimer"}}},ZH:{home:{icons:{checkWindow:"验窗"},account:{loginVue:{login:"登陆",loginUserName:"用户名",loginUserNamePlaceholder:"请输入用户名",loginPassword:"密　码",loginPasswordPlaceholder:"请输入密码",loginLoginBtnLabel:"登陆",loginRegisterBtnLabel:"注册",loginSuccess:"登录成功",loginInfoComplete:"请完善登录信息"},registerVue:{register:"注册",registerPassword:"密　码",registerUserName:"用户名",registerUserNamePlaceholder:"请输入用户名",registerPasswordPlaceholder:"请输入密码",registerLoginBtnLabel:"登陆",registerRegisterBtnLabel:"注册"},userInfoVue:{personalInfoButton:"个人信息",certifyListButton:"证书列表",logoutButton:"退出登录",popupshow:{goback:"返回",personalInfo:"个人信息",changePersonalInfo:"修改个人信息",submit:"提交"},logoutSuccess:"退出成功"}},common:{homeVue:{menus:{mainPage:"主页",list:"列表",user:"用户中心"}}}},window:{main:{title:"验窗",loginFirst:"请先登录",checkwindow:"验窗",repairs:"维修",checkList:"验窗列表",repairsList:"维修列表",addCheck:"添加"},add:{handAdd:"手动创建工程",copyFromOther:"从其他工程拷贝",copyFromTemplate:"从模板创建工程",title:"选择添加方式"},fields:{stepTwoTitle:"添加监理人信息",stepOneTitle:"添加验窗工程",projectInfo:{pname:"楼宇名称",pnamePlaceholder:"楼宇名称",adress:"楼宇地址",adressPlaceholder:"楼宇地址",address:"地址",addressPlaceholder:"地址",addressOptions:{options1:{label:"楼宇",value:"楼宇"},options2:{label:"处所",value:"处所"}},area:"区域",areaPlaceholder:"区域",areaOptions:{options1:{label:"香港",value:"香港"},options2:{label:"九龙",value:"九龙"},options3:{label:"新界",value:"新界"}},district:"地区",districtPlaceholder:"地区",street:"街道/乡",streetPlaceholder:"街道/乡",streetno:"街道号码",streetnoPlaceholder:"街道号码",building:"大厦/屋苑",buildingPlaceholder:"大厦/屋苑",floor:"楼层",floorPlaceholder:"楼层",flat:"单位/室",referenceno:"本署档号",referencenoPlaceholder:"本署档号",message_id:"法定通知编号",message_idPlaceholder:"法定通知编号",signature:"获签人名",signaturePlaceholder:"获签人名",lzxx:"楼座信息",lzxxPlaceholder:"楼座信息",certify:"注册编号",certifyPlaceholder:"注册编号",prenotice:"并无接获预先只会函件"},userInfo:{uid:"uid",uaddress:"居住地址",ufaxNo:"传真",uphone:"联系电话",uemail:"邮箱",ucertifyEnd:"证书届满日期",ucertifyId:"证书编号",uenglishName:"英文名",ufullname:"全名"},jianli:{diyigeOptions:{ucorporationNo:"法团编号",uid:"香港身份证号码",ubusinessNo:"商业登记号码"},ufullname:"完整姓名",ufullnamePlaceholder:"完整姓名（姓氏先行）",uenglishName:"英文姓名",uenglishNamePlaceholder:"英文姓名（姓氏先行）",ucertifyId:"证书编号",ucertifyIdPlaceholder:"证书编号",ucertifyEnd:"证书届满日期",ucertifyEndPlaceholder:"格式为：2018-01-31",uemail:"邮箱",uemailPlaceholder:"邮箱",uphone:"联系电话",uphonePlaceholder:"联系电话",ufaxNo:"传真号码",ufaxNoPlaceholder:"传真号码",uaddress:"居住地址",uaddressPlaceholder:"居住地址"},checkStepOne:{checkerName:"检验人员",checkerNamePlaceholder:"检验人员",checkDate:"检验日期",checkDatePlaceholder:"检验日期"}}},fields:{login:{username:"用户名",password:"密码",captcha:"验证码"},register:{diyigeOptions:{ubusinessNo:"商业登记号码",ucorporationNo:"法团编号",uid:"香港身份证号码"},username:"用户名",password:"密码",nameIsOk:"该用户名可以使用",nameUsed:"该用户名已经被使用，请重新填写。",agressStatement:"同意免责声明"}}}}},vHYo:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var i=a("hRKE"),o=a.n(i),n=a("XiuH"),l=(a("xr8+"),a("mWYR"),function(e){e.prototype.redirectTo=function(t){e.prototype.$loading({lock:!0,text:"正在跳转",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),"object"===(void 0===t?"undefined":o()(t))?t.routerPath&&(location.href=t.routerPath):t&&(location.href=t)},e.prototype.refreahPage=function(t){e.prototype.$loading({lock:!0,text:"正在跳转",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),location.href=location.href.split("?")[0].split("#")[0]+"?t="+(new Date).getTime()},e.prototype.redirectToHome=function(){e.prototype.$loading({lock:!0,text:"正在跳转",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),location.href=n.b},e.prototype.homePageUrl=n.b,e.prototype.homePath=n.c,e.prototype.userPageUrl=n.e,e.prototype.baseUrl=n.a})}},["fGOC"]);
//# sourceMappingURL=pageEditor.editLayerVueAttr.bead6a4c1056c1378f3e.js.map